/* $Id: device,v 1.1 2002/01/06 18:36:14 pavlovskii Exp $ */

#ifndef __KERNEL_DEVICE
#define __KERNEL_DEVICE

#ifndef __cplusplus
#error <kernel/device> requires C++
#endif

#include "driver.h"

#define DEV_BEGIN_REQUEST()	\
	bool request(request_t *req) \
	{ \
		switch (req->code) \
		{

#define DEV_HANDLE_REQUEST(code, fn, type) \
		case code: \
			return fn((type*) req);

#define DEV_END_REQUEST() \
		} \
		req->code = ENOTIMPL;\
		return false; \
	}

namespace kernel
{
	class device : public device_t
	{
	};
};

#endif